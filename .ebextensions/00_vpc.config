# VPC Configuration for Trua Apply
#
# IMPORTANT: This is a template file for PUBLIC repository.
# Actual infrastructure IDs are stored in the private trua-iac repository.
#
# Before deployment:
# 1. Copy this file to a local override or use EB CLI environment config
# 2. Replace placeholder values with actual IDs from trua-iac outputs
# 3. Never commit actual infrastructure IDs to this public repository
#
# See: trua-iac repository (private) for CloudFormation templates and outputs

option_settings:
  aws:ec2:vpc:
    VPCId: '{{resolve:ssm:/trua/vpc-id}}'
    Subnets: '{{resolve:ssm:/trua/private-subnets}}'
    ELBSubnets: '{{resolve:ssm:/trua/public-subnets}}'
    AssociatePublicIpAddress: 'false'
    ELBScheme: public

  aws:autoscaling:launchconfiguration:
    IamInstanceProfile: '{{resolve:ssm:/trua/eb-instance-profile}}'
    SecurityGroups: '{{resolve:ssm:/trua/web-security-group}}'
    InstanceType: t3.small

  aws:elasticbeanstalk:environment:
    EnvironmentType: LoadBalanced
    LoadBalancerType: application
    ServiceRole: aws-elasticbeanstalk-service-role
